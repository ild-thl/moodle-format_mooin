define("format_mooin4/local/forum/alldiscussionforums",["exports","core/reactive","core_courseformat/courseeditor","../courseeditor/custommutations"],(function(_exports,_reactive,_courseeditor,_custommutations){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.default=void 0,_custommutations=(obj=_custommutations)&&obj.__esModule?obj:{default:obj};class Component extends _reactive.BaseComponent{create(){this.name="alldiscussionforums",this.selectors={UNREADLINK:"[data-for='unread_link']",UNREADCONTAINER:"[data-for='mark_as_read_container']"}}static init(target,selectors){return new Component({element:document.getElementById(target),reactive:(0,_courseeditor.getCurrentCourseEditor)(),selectors:selectors})}stateReady(state){const unreadlinks=this.getElements(this.selectors.UNREADLINK);unreadlinks.forEach((link=>{link.addEventListener("click",this._unreadForum.bind(this))})),window.console.log(unreadlinks);const mutations=new _custommutations.default;this.reactive.addMutations({readAllForumDiscussions:mutations.readAllForumDiscussions})}_unreadForum(event){const unreadLink=event.currentTarget,dataId=unreadLink.getAttribute("data-id");this.reactive.dispatch("readAllForumDiscussions",dataId);const unreadContainer=unreadLink.closest(this.selectors.UNREADCONTAINER);unreadContainer&&unreadContainer.remove()}}return _exports.default=Component,_exports.default}));

//# sourceMappingURL=alldiscussionforums.min.js.map
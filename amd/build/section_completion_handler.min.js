define("format_mooin/section_completion_handler",["exports"],(function(_exports){Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0;var Selectors_actions={buttonClicked:'[data-action="format_mooin/section_completion_handler-button"]'};_exports.init=function(_ref){var section_id=_ref.section_id,course_id=_ref.course_id,xhr=new XMLHttpRequest;xhr.onreadystatechange=function(){if(4==xhr.readyState&&200==xhr.status){var result=JSON.parse(xhr.response);result&&window.console.log(result.completed)}};var progressbar=document.getElementById("mooin4ection".concat(section_id)),percentageText=document.getElementById("mooin4ection-text-".concat(section_id)),navdrawerSection=document.querySelector('[data-key="'.concat(section_id,'"]'));document.addEventListener("click",(function(e){if(e.target.closest(Selectors_actions.buttonClicked)){var formData=new FormData;formData.append("section",section_id),formData.append("course_id",course_id),xhr.open("POST","format/mooin/complete_section.php",!0),xhr.send(formData),e.target.textContent="Seite gelesen",e.target.classList.add("completed"),navdrawerSection.classList.add("completed"),e.target.disabled=!0,progressbar.style.width="100%",percentageText.innerText="100%"}}))}}));

//# sourceMappingURL=section_completion_handler.min.js.map
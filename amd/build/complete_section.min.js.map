{"version":3,"file":"complete_section.min.js","sources":["../src/complete_section.js"],"sourcesContent":["/* eslint-disable camelcase */\n// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Mark a Section (Lektion) in Chapter Card as complete.\n *\n * @module     format_mooin4/complete_section\n * @copyright  2022 Perial Dupont Nguefack Kuaguim\n */\ndefine(['jquery'], function($) {\n    Y.log('Test in complete_section');\n    // Y.log($('.bottom_complete'));\n    var section_number = [];\n    var section_inside_course = [];\n    $('.btn_comp').click(function(event) {\n        // Y.log(event);\n        section_number = event.currentTarget.id.substring(19); // .explode('-', event.currentTarget.id);\n        section_inside_course = event.currentTarget.name.split('-');\n        // Y.log(section_inside_course[1]);\n       // Var percentage = 100;\n        // Y.log(section_number);\n        // Var value = $(\"#mooin4ection\" + section_number);\n        // Var another_value = $('#mooin4ection-text-' + section_number);\n        // Var btn_bottom = $('.bottom_complete-' + section_number);\n        var course_id = event.currentTarget.classList[3].split('-');\n        // Var disable_btn_button = $('#id_bottom_complete-' + section_number);\n        // Var show_percentage_text = String(percentage + '% der Lektion bearbeitet');\n\n        var value = String('mooin4ection' + section_number);\n        var another_value = String('mooin4ection-text-' + section_number);\n        var disable_btn_button = String('id_bottom_complete-' + section_number);\n        var percentage = '100%';\n        var percentage_text = String(percentage + ' der Lektion bearbeitet');\n\n\n        var dataSend = {};\n        dataSend.section = section_number;\n        dataSend.percentage = percentage;\n        dataSend.section_inside_course = section_inside_course[1];\n        dataSend.course_id = course_id[1];\n        // Y.log(dataSend);\n        $.ajax({\n            type: 'POST',\n            url: 'format/mooin4/complete_section.php', // Format/mooin4/\n            data: dataSend,\n            success: (dataSend) => {\n                Y.log(dataSend);\n                /* Notification.addNotification({\n                    message: ' You have successfully complete this section',\n                    type: 'success'\n                }); */\n                //window.location.reload();\n            },\n            error: function(xhr, status, error) {\n                Y.log(error);\n            }\n        }).done(function() {\n            $('#' + value, window.parent.document).css('width', percentage);\n            $('#' + another_value, window.parent.document).html(percentage_text);\n            $('#' + disable_btn_button, window.parent.document).css('cursor', 'unset');\n        });\n    });\n});"],"names":["define","$","Y","log","section_number","section_inside_course","click","event","currentTarget","id","substring","name","split","course_id","classList","value","String","another_value","disable_btn_button","percentage_text","percentage","dataSend","section","ajax","type","url","data","success","error","xhr","status","done","window","parent","document","css","html"],"mappings":"AAsBAA,uCAAO,CAAC,WAAW,SAASC,GACxBC,EAAEC,IAAI,gCAEFC,eAAiB,GACjBC,sBAAwB,GAC5BJ,EAAE,aAAaK,OAAM,SAASC,OAE1BH,eAAiBG,MAAMC,cAAcC,GAAGC,UAAU,IAClDL,sBAAwBE,MAAMC,cAAcG,KAAKC,MAAM,SAOnDC,UAAYN,MAAMC,cAAcM,UAAU,GAAGF,MAAM,KAInDG,MAAQC,OAAO,eAAiBZ,gBAChCa,cAAgBD,OAAO,qBAAuBZ,gBAC9Cc,mBAAqBF,OAAO,sBAAwBZ,gBAEpDe,gBAAkBH,OAAOI,+BAGzBC,SAAW,GACfA,SAASC,QAAUlB,eACnBiB,SAASD,WANQ,OAOjBC,SAAShB,sBAAwBA,sBAAsB,GACvDgB,SAASR,UAAYA,UAAU,GAE/BZ,EAAEsB,KAAK,CACHC,KAAM,OACNC,IAAK,oCACLC,KAAML,SACNM,QAAS,SAACN,UACNnB,EAAEC,IAAIkB,WAOVO,MAAO,SAASC,IAAKC,OAAQF,QACzB1B,EAAEC,IAAIyB,WAEXG,MAAK,WACJ9B,EAAE,IAAMc,MAAOiB,OAAOC,OAAOC,UAAUC,IAAI,QA1B9B,QA2BblC,EAAE,IAAMgB,cAAee,OAAOC,OAAOC,UAAUE,KAAKjB,iBACpDlB,EAAE,IAAMiB,mBAAoBc,OAAOC,OAAOC,UAAUC,IAAI,SAAU"}
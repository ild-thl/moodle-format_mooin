{"version":3,"sources":["../src/complete_section.js"],"names":["define","$","Y","log","section_number","section_inside_course","click","event","currentTarget","id","substring","name","split","course_id","classList","value","another_value","disable_btn_button","percentage","dataSend","section","ajax","type","url","data","success","error","xhr","status","done","window","parent","document","css","html"],"mappings":"AAsBAA,OAAM,iCAAC,CAAC,QAAD,CAAD,CAAa,SAASC,CAAT,CAAY,CAC3BC,CAAC,CAACC,GAAF,CAAM,0BAAN,EAD2B,GAGvBC,CAAAA,CAAc,CAAG,EAHM,CAIvBC,CAAqB,CAAG,EAJD,CAK3BJ,CAAC,CAAC,WAAD,CAAD,CAAeK,KAAf,CAAqB,SAASC,CAAT,CAAgB,CAEjCH,CAAc,CAAGG,CAAK,CAACC,aAAN,CAAoBC,EAApB,CAAuBC,SAAvB,CAAiC,EAAjC,CAAjB,CACAL,CAAqB,CAAGE,CAAK,CAACC,aAAN,CAAoBG,IAApB,CAAyBC,KAAzB,CAA+B,GAA/B,CAAxB,CAHiC,GAU7BC,CAAAA,CAAS,CAAGN,CAAK,CAACC,aAAN,CAAoBM,SAApB,CAA8B,CAA9B,EAAiCF,KAAjC,CAAuC,GAAvC,CAViB,CAc7BG,CAAK,CAAU,eAAiBX,CAA3B,GAdwB,CAe7BY,CAAa,CAAU,qBAAuBZ,CAAjC,GAfgB,CAgB7Ba,CAAkB,CAAU,sBAAwBb,CAAlC,GAhBW,CAiB7Bc,CAAU,CAAG,MAjBgB,CAqB7BC,CAAQ,CAAG,EArBkB,CAsBjCA,CAAQ,CAACC,OAAT,CAAmBhB,CAAnB,CACAe,CAAQ,CAACD,UAAT,CAAsBA,CAAtB,CACAC,CAAQ,CAACd,qBAAT,CAAiCA,CAAqB,CAAC,CAAD,CAAtD,CACAc,CAAQ,CAACN,SAAT,CAAqBA,CAAS,CAAC,CAAD,CAA9B,CAEAZ,CAAC,CAACoB,IAAF,CAAO,CACHC,IAAI,CAAE,MADH,CAEHC,GAAG,CAAE,mCAFF,CAGHC,IAAI,CAAEL,CAHH,CAIHM,OAAO,CAAE,iBAACN,CAAD,CAAc,CACnBjB,CAAC,CAACC,GAAF,CAAMgB,CAAN,CAMH,CAXE,CAYHO,KAAK,CAAE,eAASC,CAAT,CAAcC,CAAd,CAAsBF,CAAtB,CAA6B,CAChCxB,CAAC,CAACC,GAAF,CAAMuB,CAAN,CACH,CAdE,CAAP,EAeGG,IAfH,CAeQ,UAAW,CACf5B,CAAC,CAAC,IAAMc,CAAP,CAAce,MAAM,CAACC,MAAP,CAAcC,QAA5B,CAAD,CAAuCC,GAAvC,CAA2C,OAA3C,CAAoDf,CAApD,EACAjB,CAAC,CAAC,IAAMe,CAAP,CAAsBc,MAAM,CAACC,MAAP,CAAcC,QAApC,CAAD,CAA+CE,IAA/C,CA1ByBhB,CAAU,0BA0BnC,EACAjB,CAAC,CAAC,IAAMgB,CAAP,CAA2Ba,MAAM,CAACC,MAAP,CAAcC,QAAzC,CAAD,CAAoDC,GAApD,CAAwD,QAAxD,CAAkE,OAAlE,CACH,CAnBD,CAoBH,CA/CD,CAgDH,CArDK,CAAN","sourcesContent":["/* eslint-disable camelcase */\n// This file is part of Moodle - http://moodle.org/\n//\n// Moodle is free software: you can redistribute it and/or modify\n// it under the terms of the GNU General Public License as published by\n// the Free Software Foundation, either version 3 of the License, or\n// (at your option) any later version.\n//\n// Moodle is distributed in the hope that it will be useful,\n// but WITHOUT ANY WARRANTY; without even the implied warranty of\n// MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the\n// GNU General Public License for more details.\n//\n// You should have received a copy of the GNU General Public License\n// along with Moodle.  If not, see <http://www.gnu.org/licenses/>.\n\n/**\n * Mark a Section (Lektion) in Chapter Card as complete.\n *\n * @module     format_mooin/complete_section\n * @copyright  2022 Perial Dupont Nguefack Kuaguim\n */\ndefine(['jquery'], function($) {\n    Y.log('Test in complete_section');\n    // Y.log($('.bottom_complete'));\n    var section_number = [];\n    var section_inside_course = [];\n    $('.btn_comp').click(function(event) {\n        // Y.log(event);\n        section_number = event.currentTarget.id.substring(19); // .explode('-', event.currentTarget.id);\n        section_inside_course = event.currentTarget.name.split('-');\n        // Y.log(section_inside_course[1]);\n       // Var percentage = 100;\n        // Y.log(section_number);\n        // Var value = $(\"#mooin4ection\" + section_number);\n        // Var another_value = $('#mooin4ection-text-' + section_number);\n        // Var btn_bottom = $('.bottom_complete-' + section_number);\n        var course_id = event.currentTarget.classList[3].split('-');\n        // Var disable_btn_button = $('#id_bottom_complete-' + section_number);\n        // Var show_percentage_text = String(percentage + '% der Lektion bearbeitet');\n\n        var value = String('mooin4ection' + section_number);\n        var another_value = String('mooin4ection-text-' + section_number);\n        var disable_btn_button = String('id_bottom_complete-' + section_number);\n        var percentage = '100%';\n        var percentage_text = String(percentage + ' der Lektion bearbeitet');\n\n\n        var dataSend = {};\n        dataSend.section = section_number;\n        dataSend.percentage = percentage;\n        dataSend.section_inside_course = section_inside_course[1];\n        dataSend.course_id = course_id[1];\n        // Y.log(dataSend);\n        $.ajax({\n            type: 'POST',\n            url: 'format/mooin/complete_section.php', // Format/mooin/\n            data: dataSend,\n            success: (dataSend) => {\n                Y.log(dataSend);\n                /* Notification.addNotification({\n                    message: ' You have successfully complete this section',\n                    type: 'success'\n                }); */\n                // Window.location.reload();\n            },\n            error: function(xhr, status, error) {\n                Y.log(error);\n            }\n        }).done(function() {\n            $('#' + value, window.parent.document).css('width', percentage);\n            $('#' + another_value, window.parent.document).html(percentage_text);\n            $('#' + disable_btn_button, window.parent.document).css('cursor', 'unset');\n        });\n    });\n});"],"file":"complete_section.min.js"}